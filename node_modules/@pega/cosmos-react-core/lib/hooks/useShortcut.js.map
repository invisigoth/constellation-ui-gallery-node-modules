{"version":3,"file":"useShortcut.js","sourceRoot":"","sources":["../../src/hooks/useShortcut.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAGrC,OAAO,EAAE,WAAW,EAAE,MAAM,qCAAqC,CAAC;AAElE,OAAO,QAAQ,MAAM,YAAY,CAAC;AAClC,OAAO,cAAc,MAAM,kBAAkB,CAAC;AAE9C;;;;;GAKG;AACH,MAAM,WAAW,GAAG,CAClB,QAA8B,EAC9B,QAAoC,EACd,EAAE;IACxB,MAAM,CAAC,UAAU,CAAC,GAAG,cAAc,CAAC,WAAW,EAAE,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;IAE3E,QAAQ,CACN,UAAU,EACV,CAAC,CAAC,EAAE;QACF,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,KAAK,QAAQ;YAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC,EACD;QACE,YAAY,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC;KACnC,CACF,CAAC;IAEF,OAAO;QACL,OAAO,EAAE,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,oBAAoB,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS;KACvF,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,WAAW,CAAC","sourcesContent":["import { Shortcut } from 'shortcuts';\n\nimport type { ShortcutAction } from '../components/ShortcutManager/ShortcutManager.types';\nimport { actionStore } from '../components/ShortcutManager/Store';\n\nimport useEvent from './useEvent';\nimport useSimpleStore from './useSimpleStore';\n\n/**\n * Hook to attach a callback to the keyboard shortcut action.\n * @param actionId the identifier of the action to attach the callback to\n * @param callback function that should be invoked when given action gets triggered\n * @returns current shortcut bound to the given action in form of accelerator\n */\nconst useShortcut = (\n  actionId: ShortcutAction['id'],\n  callback: (e: ShortcutEvent) => void\n): { binding?: string } => {\n  const [definition] = useSimpleStore(actionStore, store => store[actionId]);\n\n  useEvent(\n    'shortcut',\n    e => {\n      if (e.detail.actionId === actionId) callback(e);\n    },\n    {\n      dependencies: [actionId, callback]\n    }\n  );\n\n  return {\n    binding: definition ? Shortcut.shortcut2accelerator(definition.keyBinding) : undefined\n  };\n};\n\nexport default useShortcut;\n"]}