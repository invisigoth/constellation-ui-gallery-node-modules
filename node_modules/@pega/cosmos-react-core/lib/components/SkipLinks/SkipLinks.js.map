{"version":3,"file":"SkipLinks.js","sourceRoot":"","sources":["../../../src/components/SkipLinks/SkipLinks.tsx"],"names":[],"mappings":"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","sourcesContent":["import { FC, memo } from 'react';\nimport styled, { css } from 'styled-components';\nimport { hideVisually } from 'polished';\nimport { Shortcut } from 'shortcuts';\n\nimport { defaultThemeProp } from '../../theme';\nimport { focusHeadingOrContainer } from '../../utils';\nimport Button, { StyledButtonLink } from '../Button';\nimport Popover from '../Popover';\nimport Flex from '../Flex';\nimport { Keyboard } from '../Badges';\nimport Text from '../Text';\nimport Grid from '../Grid';\nimport { useI18n, useShortcutManager, useUID } from '../../hooks';\nimport { Translation } from '../../i18n';\n\ninterface SkipLink {\n  label: string;\n  target: { ariaLabel: string; selector: string };\n}\n\nexport interface SkipLinksProps {\n  items: SkipLink[];\n}\n\nconst StyledSkipLinksItems = styled.div`\n  & > ${StyledButtonLink} {\n    display: block;\n    margin-inline-start: 0;\n  }\n`;\n\nexport const StyledSkipLinks = styled(Popover)(props => {\n  const {\n    theme: {\n      base: { 'z-index': zIndices }\n    }\n  } = props;\n\n  const z = Math.max(...Object.values(zIndices)) + 1;\n\n  return css`\n    position: fixed;\n    z-index: ${z};\n\n    &:not(:focus-within) {\n      z-index: -1;\n      ${hideVisually}\n    }\n  `;\n});\n\nStyledSkipLinks.defaultProps = defaultThemeProp;\n\nconst StyledShortcuts = styled.div(({ theme }) => {\n  return css`\n    border-block-start: 0.0625rem solid ${theme.base.palette['border-line']};\n\n    [role='listitem'] {\n      display: contents;\n    }\n  `;\n});\n\nStyledShortcuts.defaultProps = defaultThemeProp;\n\nconst SkipLinks: FC<SkipLinksProps> = memo(({ items }: SkipLinksProps) => {\n  const bindings = useShortcutManager();\n  const t = useI18n();\n  const shortcutHeadingId = useUID();\n\n  return (\n    <Flex\n      as={StyledSkipLinks}\n      portal={false}\n      container={{ direction: 'column' }}\n      placement='bottom-end'\n      target={{\n        getBoundingClientRect: () => ({\n          height: 0,\n          width: 0,\n          x: 24,\n          y: 24,\n          top: 24,\n          bottom: 24,\n          left: 24,\n          right: 24\n        })\n      }}\n      modifiers={[\n        {\n          name: 'placeAndContain',\n          enabled: false\n        }\n      ]}\n      data-app-region\n      aria-label={t('skip_navigation_menu_label')}\n    >\n      <Flex container={{ direction: 'column', gap: 0.5, pad: 1 }} as={StyledSkipLinksItems}>\n        {items.map(item => (\n          <Button\n            variant='link'\n            key={item.label}\n            onClick={() =>\n              focusHeadingOrContainer(\n                document.querySelector(item.target.selector) ?? document,\n                item.target.ariaLabel\n              )\n            }\n          >\n            {item.label}\n          </Button>\n        ))}\n      </Flex>\n\n      {Object.entries(bindings).length > 0 && (\n        <Flex container={{ direction: 'column', gap: 1, pad: 1 }} as={StyledShortcuts}>\n          <Text variant='h2' as='span' id={shortcutHeadingId}>\n            {t('shortcuts')}\n          </Text>\n          <Grid\n            container={{\n              cols: 'auto minmax(0, 1fr)',\n              gap: 1,\n              alignItems: 'center'\n            }}\n            role='list'\n            aria-labelledby={shortcutHeadingId}\n          >\n            {Object.entries(bindings).map(([actionId, { keyBinding }]) => {\n              return (\n                <div role='listitem' key={actionId}>\n                  <Text>{t(`shortcut_${actionId}` as keyof Translation)}</Text>\n                  <Flex container={{ gap: 0.5 }}>\n                    {Shortcut.shortcut2accelerator(keyBinding)\n                      .split('+')\n                      .map(key => (\n                        <Keyboard keyName={key} key={key} />\n                      ))}\n                  </Flex>\n                </div>\n              );\n            })}\n          </Grid>\n        </Flex>\n      )}\n    </Flex>\n  );\n});\n\nexport default SkipLinks;\n"]}