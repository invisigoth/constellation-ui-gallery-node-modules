{"version":3,"file":"ArticleFooter.js","sourceRoot":"","sources":["../../../src/components/Article/ArticleFooter.tsx"],"names":[],"mappings":"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","sourcesContent":["import { FunctionComponent, MouseEvent } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Flex,\n  Tag,\n  defaultThemeProp,\n  BaseProps,\n  ForwardProps,\n  FileUploadItemProps,\n  Button,\n  Text,\n  Link,\n  useI18n,\n  FileUploadItem,\n  Grid\n} from '@pega/cosmos-react-core';\nimport { StyledTag } from '@pega/cosmos-react-core/lib/components/Badges/Tag';\n\nexport interface ArticleTag {\n  /** Tag name */\n  tagName: string;\n  /** Tag id. If not set tagName is treated as id */\n  id: string;\n}\n\nexport interface ArticleFooterProps extends BaseProps {\n  /** Feedback for this article */\n  feedback?: {\n    showThanksMessage?: boolean;\n    /** Weather the current article is liked or disliked. Used to determine  */\n    status?: 'liked' | 'disliked';\n    /** Callback triggered on click of like or dislike */\n    onFeedbackClick: (button: 'like' | 'dislike', e: MouseEvent<HTMLButtonElement>) => void;\n  };\n  tags?: {\n    /** Article tags */\n    list: ArticleTag[];\n    /** Callback that triggers on click of tag */\n    onTagClick?: (id: ArticleTag['id']) => void;\n  };\n  /** Links to external sites */\n  relatedLinks?: { title: string; href: string }[];\n  /** Links to other articles */\n  relatedArticles?: {\n    id: string;\n    title: string;\n    onClick: (id: string, e: MouseEvent<HTMLButtonElement>) => void;\n  }[];\n  /** Attachments */\n  attachments?: FileUploadItemProps[];\n}\n\nconst StyledRelatedItemsContainer = styled.div``;\nconst StyledRelatedItemsList = styled.div``;\n\nconst StyledArticleFooter = styled.div(({ theme }) => {\n  return css`\n    flex-shrink: 0;\n    &::before {\n      content: '';\n      display: block;\n      background: ${theme.base.palette['border-line']};\n      height: 0.0625rem;\n      margin-bottom: calc(2 * ${theme.base.spacing});\n    }\n\n    ${StyledRelatedItemsContainer} {\n      margin-block-start: ${theme.base.spacing};\n      & > ${StyledRelatedItemsList} * {\n        margin-inline-start: 0;\n      }\n    }\n  `;\n});\n\nStyledArticleFooter.defaultProps = defaultThemeProp;\n\nconst StyledTags = styled.div(({ theme }) => {\n  return css`\n    padding: calc(0.25 * ${theme.base.spacing});\n    margin: 0 calc(-0.5 * ${theme.base.spacing});\n    & > ${StyledTag} {\n      margin: calc(0.25 * ${theme.base.spacing});\n    }\n  `;\n});\n\nStyledTags.defaultProps = defaultThemeProp;\n\nconst ArticleFooter: FunctionComponent<ArticleFooterProps & ForwardProps> = (\n  props: ArticleFooterProps\n) => {\n  const { tags, relatedLinks, relatedArticles, feedback, attachments, ...restProps } = props;\n  const t = useI18n();\n\n  return (\n    <Flex\n      as={StyledArticleFooter}\n      container={{\n        direction: 'column',\n        gap: 2\n      }}\n      {...restProps}\n    >\n      {feedback && (\n        <Flex container={{ gap: 2, alignItems: 'center' }}>\n          {feedback.showThanksMessage ? (\n            <Text>{t('article_thank_you_for_your_feedback')}</Text>\n          ) : (\n            <>\n              <Text>{t('article_was_this_helpful')}</Text>\n              <Flex container>\n                <Button\n                  variant={feedback.status === 'liked' ? 'primary' : 'secondary'}\n                  onClick={(e: MouseEvent<HTMLButtonElement>) =>\n                    feedback.onFeedbackClick('like', e)\n                  }\n                >\n                  {t('yes')}\n                </Button>\n                <Button\n                  variant={feedback.status === 'disliked' ? 'primary' : 'secondary'}\n                  onClick={(e: MouseEvent<HTMLButtonElement>) =>\n                    feedback.onFeedbackClick('dislike', e)\n                  }\n                >\n                  {t('no')}\n                </Button>\n              </Flex>\n            </>\n          )}\n        </Flex>\n      )}\n      {tags && (\n        <Flex container={{ wrap: 'wrap' }} as={StyledTags}>\n          {tags.list.map(tag => (\n            <Tag\n              tabIndex={0}\n              type='pill'\n              variant='light'\n              key={tag.id}\n              data-tag-id={tag.id}\n              {...(tags.onTagClick ? { onClick: () => tags.onTagClick?.(tag.id) } : undefined)}\n              rel='tag'\n            >\n              {tag.tagName}\n            </Tag>\n          ))}\n        </Flex>\n      )}\n\n      {relatedLinks && (\n        <Flex as={StyledRelatedItemsContainer} container={{ direction: 'column', gap: 1 }}>\n          <Text variant='h3'>{t('article_related_links')}</Text>\n          <Flex\n            as={StyledRelatedItemsList}\n            container={{ direction: 'column', alignItems: 'start', gap: 0.5 }}\n          >\n            {relatedLinks?.map(({ title, href }) => {\n              return (\n                <Link href={href} target='_blank' key={title}>\n                  {title}\n                </Link>\n              );\n            })}\n          </Flex>\n        </Flex>\n      )}\n\n      {relatedArticles && (\n        <Flex as={StyledRelatedItemsContainer} container={{ direction: 'column', gap: 1 }}>\n          <Text variant='h3'>{t('article_more_like_this')}</Text>\n          <Flex\n            as={StyledRelatedItemsList}\n            container={{ direction: 'column', alignItems: 'start', gap: 0.5 }}\n          >\n            {relatedArticles?.map(({ id, title, onClick }) => {\n              return (\n                <Button\n                  key={id}\n                  variant='link'\n                  onClick={(e: MouseEvent<HTMLButtonElement>) => onClick(id, e)}\n                >\n                  {title}\n                </Button>\n              );\n            })}\n          </Flex>\n        </Flex>\n      )}\n\n      {attachments && (\n        <Flex as={StyledRelatedItemsContainer} container={{ direction: 'column', gap: 1 }}>\n          <Text variant='h3'>{t('article_attachments')}</Text>\n          <Grid\n            container={{\n              cols: 'repeat(auto-fill, minmax(10rem, 1fr))',\n              gap: 1\n            }}\n            as='ul'\n          >\n            {attachments?.map(attachment => (\n              <FileUploadItem {...attachment} key={attachment.name} />\n            ))}\n          </Grid>\n        </Flex>\n      )}\n    </Flex>\n  );\n};\n\nexport default ArticleFooter;\n"]}