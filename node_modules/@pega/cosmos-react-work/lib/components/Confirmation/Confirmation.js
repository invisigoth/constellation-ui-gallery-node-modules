import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { forwardRef, useContext, useMemo } from 'react';
import styled, { css } from 'styled-components';
import { Card, CardContent, Flex, Text, useI18n, UnorderedList, Button, defaultThemeProp, VisuallyHiddenText } from '@pega/cosmos-react-core';
import { StyledDetails, StyledFieldValueGroupLabel, DetailsContext } from '../Details';
const StyledWhatsNextList = styled(UnorderedList) `
  padding-inline-start: 0;
`;
StyledWhatsNextList.defaultProps = defaultThemeProp;
const StyledConfirmationDetails = styled.div(() => {
    return css `
    > ${StyledDetails} > ${StyledFieldValueGroupLabel}:first-child {
      margin-block-start: 0;
    }
  `;
});
const Confirmation = forwardRef(function Confirmation({ title, details, whatsNext, tasks, onClose, ...restProps }, ref) {
    const t = useI18n();
    const detailsContext = useContext(DetailsContext);
    const detailsCtxValue = useMemo(() => {
        return {
            ...detailsContext,
            depth: 4
        };
    }, [detailsContext]);
    return (_jsx(Card, { ...restProps, ref: ref, children: _jsx(CardContent, { children: _jsxs(Flex, { container: { gap: 3, direction: 'column' }, children: [title && _jsx(Text, { variant: 'h3', children: title }), details && (_jsx(DetailsContext.Provider, { value: detailsCtxValue, children: _jsx(StyledConfirmationDetails, { children: details }) })), whatsNext && (_jsxs(Flex, { container: { gap: 1, direction: 'column' }, children: [_jsx(Text, { variant: 'h4', children: t('confirmation_whats_next') }), _jsx(StyledWhatsNextList, { items: whatsNext, as: StyledWhatsNextList })] })), tasks, onClose && (_jsx(Flex, { container: { justify: 'end' }, children: _jsxs(Button, { onClick: onClose, variant: 'primary', children: [t('done'), title ? _jsx(VisuallyHiddenText, { children: `- ${title}` }) : null] }) }))] }) }) }));
});
export default Confirmation;
//# sourceMappingURL=Confirmation.js.map