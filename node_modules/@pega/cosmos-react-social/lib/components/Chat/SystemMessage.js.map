{"version":3,"file":"SystemMessage.js","sourceRoot":"","sources":["../../../src/components/Chat/SystemMessage.tsx"],"names":[],"mappings":";AAAA,OAAO,EAAqB,UAAU,EAAmB,MAAM,OAAO,CAAC;AACvE,OAAO,MAAM,EAAE,EAAE,GAAG,EAAE,MAAM,mBAAmB,CAAC;AAChD,OAAO,EAAE,IAAI,EAAE,MAAM,UAAU,CAAC;AAEhC,OAAO,EACL,IAAI,EACJ,QAAQ,EACR,gBAAgB,EAGhB,OAAO,EACR,MAAM,yBAAyB,CAAC;AAMjC,MAAM,CAAC,MAAM,mBAAmB,GAAG,MAAM,CAAC,EAAE,CAC1C,CAAC,EACC,KAAK,EAAE,EACL,IAAI,EAAE,EACJ,OAAO,EAAE,EAAE,kBAAkB,EAAE,eAAe,EAAE,EAChD,YAAY,EAAE,EAAE,eAAe,EAAE,eAAe,EAAE,EAClD,MAAM,EAAE,EACN,IAAI,EAAE,EAAE,MAAM,EAAE,EACjB,EACD,OAAO,EACR,EACF,EACD,OAAO,EACR,EAAE,EAAE;IACH,MAAM,4BAA4B,GAChC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,eAAe,CAAC,CAAC,CAAC;IAC1F,OAAO,GAAG,CAAA;eACC,4BAA4B;;8BAEb,OAAO;;;;;QAK7B,OAAO,KAAK,SAAS;QACvB,GAAG,CAAA;;;;;;;wCAO+B,4BAA4B;;;;;+BAKrC,OAAO;;;iCAGL,OAAO;;OAEjC;KACF,CAAC;AACJ,CAAC,CACF,CAAC;AAEF,mBAAmB,CAAC,YAAY,GAAG,gBAAgB,CAAC;AAEpD,MAAM,aAAa,GAAyD,UAAU,CACpF,SAAS,aAAa,CACpB,KAA0C,EAC1C,GAA8B;IAE9B,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,GAAG,WAAW,EAAE,GAAG,SAAS,EAAE,GAAG,KAAK,CAAC;IAC1E,MAAM,CAAC,GAAG,OAAO,EAAE,CAAC;IAEpB,MAAM,SAAS,GACb,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC,GAAG,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,2BAA2B,EAAE,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC;IAEhG,OAAO,CACL,MAAC,IAAI,IACH,GAAG,EAAE,GAAG,EACR,EAAE,EAAE,mBAAmB,EACvB,SAAS,EAAE;YACT,UAAU,EAAE,QAAQ;YACpB,OAAO,EAAE,QAAQ;SAClB,EACD,IAAI,EAAE;YACJ,MAAM,EAAE,CAAC;SACV,EACD,OAAO,EAAE,OAAO,gBACJ,SAAS,KACjB,SAAS,aAEZ,SAAS,IAAI,GAAG,SAAS,IAAI,OAAG,OAAO,IACnC,CACR,CAAC;AACJ,CAAC,CACF,CAAC;AAEF,eAAe,aAAa,CAAC","sourcesContent":["import { FunctionComponent, forwardRef, PropsWithoutRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport { rgba } from 'polished';\n\nimport {\n  Flex,\n  tryCatch,\n  defaultThemeProp,\n  ForwardProps,\n  PropsWithDefaults,\n  useI18n\n} from '@pega/cosmos-react-core';\n\nimport { SystemMessageProps } from './Chat.types';\n\ntype SystemMessagePropsWithDefaults = PropsWithDefaults<SystemMessageProps, 'variant'>;\n\nexport const StyledSystemMessage = styled.li<Pick<SystemMessagePropsWithDefaults, 'variant'>>(\n  ({\n    theme: {\n      base: {\n        palette: { 'foreground-color': foregroundColor },\n        transparency: { 'transparent-3': foregroundAlpha },\n        colors: {\n          blue: { medium }\n        },\n        spacing\n      }\n    },\n    variant\n  }) => {\n    const systemMessageForeGroundColor =\n      variant === 'primary' ? medium : tryCatch(() => rgba(foregroundColor, foregroundAlpha));\n    return css`\n      color: ${systemMessageForeGroundColor};\n      font-size: 0.75rem;\n      padding: 0 0 calc(2 * ${spacing});\n\n      :last-child {\n        padding: 0;\n      }\n      ${variant === 'primary' &&\n      css`\n        text-transform: uppercase;\n        font-weight: bold;\n        ::before,\n        ::after {\n          display: inline-flex;\n          content: '';\n          border-top: 0.0625rem solid ${systemMessageForeGroundColor};\n          flex-grow: 1;\n          min-width: 1.5rem;\n        }\n        ::before {\n          margin-inline-end: ${spacing};\n        }\n        ::after {\n          margin-inline-start: ${spacing};\n        }\n      `}\n    `;\n  }\n);\n\nStyledSystemMessage.defaultProps = defaultThemeProp;\n\nconst SystemMessage: FunctionComponent<SystemMessageProps & ForwardProps> = forwardRef(\n  function SystemMessage(\n    props: PropsWithoutRef<SystemMessageProps>,\n    ref: SystemMessageProps['ref']\n  ) {\n    const { message, timestamp, variant = 'secondary', ...restProps } = props;\n    const t = useI18n();\n\n    const ariaLabel =\n      timestamp === undefined ? `${message}` : t('chat_message_at_timestamp', [message, timestamp]);\n\n    return (\n      <Flex\n        ref={ref}\n        as={StyledSystemMessage}\n        container={{\n          alignItems: 'center',\n          justify: 'center'\n        }}\n        item={{\n          shrink: 0\n        }}\n        variant={variant}\n        aria-label={ariaLabel}\n        {...restProps}\n      >\n        {timestamp && `${timestamp}: `} {message}\n      </Flex>\n    );\n  }\n);\n\nexport default SystemMessage;\n"]}