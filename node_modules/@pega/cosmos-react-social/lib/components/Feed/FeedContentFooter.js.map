{"version":3,"file":"FeedContentFooter.js","sourceRoot":"","sources":["../../../src/components/Feed/FeedContentFooter.tsx"],"names":[],"mappings":"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","sourcesContent":["import { FC, useContext } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport {\n  Button,\n  Count,\n  defaultThemeProp,\n  Flex,\n  Icon,\n  Progress,\n  Text,\n  useI18n,\n  useUID\n} from '@pega/cosmos-react-core';\n\nimport FeedButton from './FeedButton';\nimport FeedLikeButton from './FeedLikeButton';\nimport { FeedReplyContext } from './Feed.context';\nimport { FeedContentFooterProps } from './Feed.types';\n\nconst StyledFeedContentFooter = styled.div(({ theme }) => {\n  return css`\n    margin-block-start: ${theme.base.spacing};\n    margin-inline-end: calc(2 * ${theme.base.spacing});\n  `;\n});\n\nStyledFeedContentFooter.defaultProps = defaultThemeProp;\n\nconst FeedContentFooter: FC<FeedContentFooterProps> = (props: FeedContentFooterProps) => {\n  const {\n    variant,\n    id,\n    username,\n    liked,\n    likes,\n    likeCount,\n    interactionsEnabled = true,\n    likesLoading,\n    replies = [],\n    replyCount,\n    repliesLoading,\n    onCommentClick,\n    onLikeClick,\n    onLikeCountInteraction,\n    onLoadMoreLikes,\n    onShowMoreReplies,\n    onShowLessReplies,\n    replyInputOpen,\n    setReplyInputOpen\n  } = props;\n\n  const t = useI18n();\n  const commentCountId = useUID();\n  const { onShowReplyInput } = useContext(FeedReplyContext);\n\n  const numReplies = replyCount || replies.length;\n\n  return (\n    <Flex\n      as={StyledFeedContentFooter}\n      container={{ justify: 'between', alignItems: 'center', wrap: 'wrap', gap: 1 }}\n    >\n      {interactionsEnabled ? (\n        <Flex container={{ gap: 2 }}>\n          <Flex container={{ gap: 0.5, alignItems: 'center' }}>\n            <Button\n              variant='simple'\n              as={FeedButton}\n              icon\n              compact\n              onClick={() => {\n                onCommentClick?.({ id, username });\n                if (variant === 'post') {\n                  if (!replyInputOpen) {\n                    setReplyInputOpen?.(true);\n                  }\n                } else {\n                  onShowReplyInput?.();\n                }\n              }}\n              label={t('feed_comment_label')}\n              aria-describedby={variant === 'post' && numReplies > 0 ? commentCountId : undefined}\n            >\n              <Icon name='chat' />\n            </Button>\n            {numReplies > 0 && (\n              <Count\n                aria-label={t('feed_post_comments', [numReplies], { count: numReplies })}\n                id={commentCountId}\n              >\n                {numReplies}\n              </Count>\n            )}\n          </Flex>\n          <FeedLikeButton\n            id={id}\n            onLikeClick={onLikeClick}\n            onLikeCountInteraction={onLikeCountInteraction}\n            onLoadMoreLikes={onLoadMoreLikes}\n            likesLoading={likesLoading}\n            liked={liked}\n            likes={likes}\n            likeCount={likeCount}\n          />\n        </Flex>\n      ) : (\n        <div />\n      )}\n      {(onShowLessReplies || onShowMoreReplies) && (\n        <Flex container={{ gap: 0.5 }}>\n          {replies.length !== numReplies && (\n            <>\n              <Text>{t('showing_num_of_num', [replies.length, numReplies])}</Text>\n              <span>&bull;</span>\n            </>\n          )}\n          {onShowMoreReplies && replies.length < numReplies && (\n            <Button variant='link' onClick={() => onShowMoreReplies({ id })}>\n              {t('show_more')}\n            </Button>\n          )}\n          {repliesLoading && <Progress placement='inline' />}\n        </Flex>\n      )}\n    </Flex>\n  );\n};\n\nexport default FeedContentFooter;\n"]}